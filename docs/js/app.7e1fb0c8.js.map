{"version":3,"file":"js/app.7e1fb0c8.js","mappings":"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","sources":["webpack://vue3-tetris/./src/App.vue?aaae","webpack://vue3-tetris/./src/App.vue?847a","webpack://vue3-tetris/./src/App.vue","webpack://vue3-tetris/./src/views/TopPage.vue?9c2d","webpack://vue3-tetris/./src/views/TopPage.vue?ce7b","webpack://vue3-tetris/./src/views/TopPage.vue","webpack://vue3-tetris/./src/views/Stage.vue?2a4c","webpack://vue3-tetris/./src/components/PlayBoardLayer.vue?b861","webpack://vue3-tetris/./src/components/Block.ts","webpack://vue3-tetris/./src/core/useAnimationFrame.ts","webpack://vue3-tetris/./src/core/Point.ts","webpack://vue3-tetris/./src/core/Constants.ts","webpack://vue3-tetris/./src/core/MinoModel.ts","webpack://vue3-tetris/./src/components/Mino.vue?90dd","webpack://vue3-tetris/./src/core/useKeyEvent.ts","webpack://vue3-tetris/./src/infrastructure/transfer/ScoreTransfer.ts","webpack://vue3-tetris/./src/components/Mino.vue?be3a","webpack://vue3-tetris/./src/components/Mino.vue","webpack://vue3-tetris/./src/components/PlayBoardLayer.vue?0ef2","webpack://vue3-tetris/./src/components/PlayBoardLayer.vue","webpack://vue3-tetris/./src/views/Stage.vue?f327","webpack://vue3-tetris/./src/views/Stage.vue","webpack://vue3-tetris/./src/views/Ranking.vue?c4f2","webpack://vue3-tetris/./src/views/Ranking.vue?b25e","webpack://vue3-tetris/./src/views/Ranking.vue","webpack://vue3-tetris/./src/router/index.ts","webpack://vue3-tetris/./src/main.ts","webpack://vue3-tetris/webpack/bootstrap","webpack://vue3-tetris/webpack/runtime/chunk loaded","webpack://vue3-tetris/webpack/runtime/compat get default export","webpack://vue3-tetris/webpack/runtime/define property getters","webpack://vue3-tetris/webpack/runtime/global","webpack://vue3-tetris/webpack/runtime/hasOwnProperty shorthand","webpack://vue3-tetris/webpack/runtime/jsonp chunk loading","webpack://vue3-tetris/webpack/startup"],"sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { id: \"app\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_router_view = _resolveComponent(\"router-view\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_router_view)\n  ]))\n}","\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"App\",\n  components: {},\n  data() {\n    return {};\n  },\n  methods: {},\n});\n","import { render } from \"./App.vue?vue&type=template&id=11608880&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=11608880&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\S142575\\\\Documents\\\\self-study\\\\vue3-tetris\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5b8515fc\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Vue Practice\", -1))\nconst _hoisted_2 = { id: \"links\" }\nconst _hoisted_3 = { id: \"tetris\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"Tetris\", -1))\nconst _hoisted_5 = { id: \"ranking\" }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"Score Ranking\", -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _hoisted_1,\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _hoisted_4,\n        _createElementVNode(\"button\", {\n          onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.moveToTetris && _ctx.moveToTetris(...args)))\n        }, \"PLAY\")\n      ]),\n      _createElementVNode(\"div\", _hoisted_5, [\n        _hoisted_6,\n        _createElementVNode(\"button\", {\n          onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.moveToRanking && _ctx.moveToRanking(...args)))\n        }, \"SHOW\")\n      ])\n    ])\n  ]))\n}","\nimport { defineComponent } from \"vue\";\nimport { useRouter } from \"vue-router\";\nexport default defineComponent({\n  name: \"Top\",\n  setup(_, ctx) {\n    const router = useRouter();\n    const moveToTetris = () => {\n      return router.replace({ name: \"Tetris\" });\n    };\n    const moveToRanking = () => {\n      return router.replace({ name: \"Ranking\" });\n    };\n\n    return {\n      moveToTetris,\n      moveToRanking,\n    };\n  },\n});\n","import { render } from \"./TopPage.vue?vue&type=template&id=5b8515fc&scoped=true&ts=true\"\nimport script from \"./TopPage.vue?vue&type=script&lang=ts\"\nexport * from \"./TopPage.vue?vue&type=script&lang=ts\"\n\nimport \"./TopPage.vue?vue&type=style&index=0&id=5b8515fc&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\S142575\\\\Documents\\\\self-study\\\\vue3-tetris\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5b8515fc\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createStaticVNode as _createStaticVNode, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-16044380\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"arrow\\\" data-v-16044380><div id=\\\"first\\\" data-v-16044380>↑</div><div id=\\\"second\\\" data-v-16044380>↑</div><div id=\\\"third\\\" data-v-16044380>↑</div></div><div class=\\\"holdFrame\\\" data-v-16044380></div><div class=\\\"title\\\" id=\\\"hold\\\" data-v-16044380>HOLD</div><div class=\\\"stockFrame\\\" data-v-16044380></div><div class=\\\"title\\\" id=\\\"stock\\\" data-v-16044380>NEXT</div>\", 5)\nconst _hoisted_6 = {\n  key: 0,\n  class: \"end\"\n}\nconst _hoisted_7 = { class: \"message\" }\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"header\" }, [\n  /*#__PURE__*/_createElementVNode(\"span\", null, \" Result \")\n], -1))\nconst _hoisted_9 = {\n  key: 0,\n  class: \"body\"\n}\nconst _hoisted_10 = { class: \"footer\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_PlayBoardLayer = _resolveComponent(\"PlayBoardLayer\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_PlayBoardLayer, {\n      onEnding: _ctx.ending,\n      onScore: _ctx.resultScore\n    }, null, 8, [\"onEnding\", \"onScore\"]),\n    _hoisted_1,\n    (_ctx.flag)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n          _createElementVNode(\"div\", _hoisted_7, [\n            _hoisted_8,\n            (_ctx.flag)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n                  _createElementVNode(\"span\", null, \"スコア：\" + _toDisplayString(_ctx.score), 1),\n                  _createElementVNode(\"span\", null, [\n                    _createTextVNode(\"ユーザー名： \"),\n                    _withDirectives(_createElementVNode(\"input\", {\n                      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.userName) = $event))\n                    }, null, 512), [\n                      [_vModelText, _ctx.userName]\n                    ])\n                  ])\n                ]))\n              : _createCommentVNode(\"\", true),\n            _createElementVNode(\"div\", _hoisted_10, [\n              _createElementVNode(\"button\", {\n                id: \"sendButton\",\n                onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.moveToRanking && _ctx.moveToRanking(...args)))\n              }, \"ランキングへ送信\")\n            ])\n          ])\n        ]))\n      : _createCommentVNode(\"\", true)\n  ], 64))\n}","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3abde733\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"PlayBoardLayerRoot\" }\nconst _hoisted_2 = { class: \"level\" }\nconst _hoisted_3 = { class: \"score\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Block = _resolveComponent(\"Block\")!\n  const _component_MinoLayer = _resolveComponent(\"MinoLayer\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.stageState.wallList, (blockProps) => {\n        return (_openBlock(), _createBlock(_component_Block, {\n          key: blockProps.id,\n          class: \"BlockElement\",\n          x: blockProps.position.x,\n          y: blockProps.position.y,\n          angle: blockProps.angle,\n          color: blockProps.color\n        }, null, 8, [\"x\", \"y\", \"angle\", \"color\"]))\n      }), 128)),\n      _createVNode(_component_MinoLayer, {\n        onMap: _ctx.getMap,\n        onScore: _ctx.updateScore,\n        onLevel: _ctx.setLevel\n      }, null, 8, [\"onMap\", \"onScore\", \"onLevel\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_2, \"Lv.\" + _toDisplayString(_ctx.level), 1),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createTextVNode(\"SCORE\"),\n      _hoisted_4,\n      _createTextVNode(_toDisplayString(_ctx.totalScore), 1)\n    ])\n  ], 64))\n}","// ブロックのDOMを表示するためのコンポーネントです。\n// Vueとして状態を管理する必要がないので関数コンポーネントにしています。\n\nimport { h } from \"vue\";\nimport { Point } from \"../core/Point\";\n\ntype Props = {\n  x: number;\n  y: number;\n  angle: number;\n  color: string;\n  shape: Point[];\n  scale: number;\n};\n\nexport const Block = (props: Props) => {\n  const scale = props.scale || 1;\n  const style = `color: ${props.color};transform: translate(${props.x}px, ${props.y}px);`;\n  return h(\"div\", { class: \"BlockRoot\", style });\n};\n","import { onMounted, onBeforeUnmount } from \"vue\";\n\n/**\n * requestAnimatinFrameの処理を登録します。\n * @param onFire 処理。次のフレームでも継続して呼び出す場合、trueを返してください。\n */\nexport const useAnimationFrame = (onFire: () => boolean) => {\n  let isTerminated = false;\n\n  onMounted(() => {\n    const tick = () => {\n      requestAnimationFrame(() => {\n        if (isTerminated) {\n          return;\n        }\n        const shouldContinue = onFire();\n        if (shouldContinue) {\n          tick();\n        }\n      });\n    };\n    tick();\n  });\n  onBeforeUnmount(() => {\n    isTerminated = true;\n  });\n\n  return {};\n};\n","export class Point {\n  readonly x: number;\n  readonly y: number;\n  constructor(x = 0, y = 0, a = 0) {\n    this.x = x;\n    this.y = y;\n  }\n\n  get length(): number {\n    return Math.sqrt(this.x ** 2 + this.y ** 2);\n  }\n\n  get angle(): number {\n    const rad2angle = (r: number): number => (r / Math.PI) * 180;\n    return rad2angle(Math.atan2(this.y, this.x));\n  }\n\n  add(p: Point): Point {\n    return new Point(this.x + p.x, this.y + p.y);\n  }\n\n  sub(p: Point): Point {\n    return new Point(this.x - p.x, this.y - p.y);\n  }\n\n  times(n: number): Point {\n    return new Point(this.x * n, this.y * n);\n  }\n\n  unit(unitLength = 1): Point {\n    const len = this.length;\n    return new Point((this.x / len) * unitLength, (this.y / len) * unitLength);\n  }\n\n  limit(maxLength = 1): Point {\n    return this.length <= maxLength ? this : this.unit(maxLength);\n  }\n\n  rotate(deg: number): Point {\n    const angle2rad = (a: number): number => (a * Math.PI) / 180;\n    const rad = angle2rad(this.angle + deg);\n    const l = this.length;\n    return new Point(Math.cos(rad) * l, Math.sin(rad) * l);\n  }\n}\n","import { Point } from \"./Point\";\n\nexport class Constants {\n  static readonly BLOCK_SIZE = 40;\n  static readonly NAMES: string[] = [\"T\", \"I\", \"O\", \"L\", \"J\", \"S\", \"Z\"];\n  static readonly COLORS: { [index: string]: string } = {\n    T: \"138, 43, 226\", //\"blueviolet\", //#8A2BE2\n    I: \"0, 255, 255\", //\"cyan\", #00FFFF\n    L: \"0, 0, 255\", //\"blue\",\t#0000FF\n    J: \"255, 165, 0\", //\"orange\", #FFA500\n    O: \"255, 255, 0\", //\"yellow\", #FFFF00\n    S: \"0, 255, 0\", //\"lime\", #00FF00\n    Z: \"255, 0, 0\", //\"red\", #FF0000\n  };\n  static readonly SHAPE: { [index: string]: Point[] } = {\n    T: [new Point(0, 0), new Point(0, -1), new Point(-1, 0), new Point(1, 0)],\n    I: [new Point(0, 0), new Point(-1, 0), new Point(1, 0), new Point(2, 0)],\n    L: [new Point(0, 0), new Point(-1, 0), new Point(1, 0), new Point(1, -1)],\n    J: [new Point(0, 0), new Point(-1, -1), new Point(-1, 0), new Point(1, 0)],\n    O: [new Point(0, 0), new Point(1, 0), new Point(0, -1), new Point(1, -1)],\n    S: [new Point(0, 0), new Point(-1, 0), new Point(0, -1), new Point(1, -1)],\n    Z: [new Point(0, 0), new Point(-1, -1), new Point(0, -1), new Point(1, 0)],\n  };\n}\nexport default Constants;\n","import { Point } from \"./Point\";\nimport Constants from \"./Constants\";\n\nconst DEFAULT_FORCE = 0.25;\nlet instanseCount = 0;\n\nconst random = (min: number, max: number) => min + (max - min) * Math.random();\n\nconst randomScale = (): number => {\n  return Math.random() * 0.5 + 0.6;\n};\n\nconst randomName = () => {\n  return Constants.NAMES[Math.floor(Math.random() * 7)];\n};\n\nexport class MinoModel {\n  readonly id = instanseCount++;\n  position = new Point(0, 0);\n  name = randomName();\n  angle = Math.random() * 360;\n  vector = new Point();\n  force = DEFAULT_FORCE;\n  color = \"\";\n  shape: Point[] = [];\n  insensitiveTerms = 0;\n  constructor(\n    x: number,\n    y: number,\n    name: string,\n    color: string,\n    shape: Point[],\n    opacity?: string\n  ) {\n    this.position = new Point(x, y);\n    this.name = name;\n    if (!opacity) this.color = \"rgba(\" + color + \", 1.0)\";\n    else this.color = \"rgba(\" + color + \", \" + opacity + \")\";\n    this.shape = shape;\n  }\n\n  update() {\n    const vec = new Point(0, Constants.BLOCK_SIZE);\n    this.position = this.position.add(vec);\n    if (this.position.y > Constants.BLOCK_SIZE * 20) {\n      this.position = new Point(this.position.x, Constants.BLOCK_SIZE * 20);\n    }\n    if (this.position.y < 0) {\n      this.position = new Point(this.position.x, 0);\n    }\n  }\n  drop() {\n    const vec = new Point(0, Constants.BLOCK_SIZE);\n    this.position = this.position.add(vec);\n    if (this.position.y > Constants.BLOCK_SIZE * 21) {\n      this.position = new Point(this.position.x, Constants.BLOCK_SIZE * 21);\n    }\n  }\n\n  slideLeft() {\n    this.position = new Point(\n      this.position.x - Constants.BLOCK_SIZE,\n      this.position.y\n    );\n  }\n\n  slideRight() {\n    this.position = new Point(\n      this.position.x + Constants.BLOCK_SIZE,\n      this.position.y\n    );\n  }\n\n  slideUp() {\n    this.position = new Point(\n      this.position.x,\n      this.position.y - Constants.BLOCK_SIZE\n    );\n  }\n\n  setForce(value: number) {\n    this.force = value;\n  }\n\n  resize(difference: number) {\n    this.position = new Point(this.position.x + difference, this.position.y);\n  }\n}\n","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2a17cd6c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"MinoLayerRoot\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Block = _resolveComponent(\"Block\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.stageState.ghost, (block) => {\n      return (_openBlock(), _createBlock(_component_Block, {\n        key: block.id,\n        class: \"BlockElement\",\n        x: block.position.x,\n        y: block.position.y,\n        angle: block.angle,\n        color: block.color,\n        scale: block.scale\n      }, null, 8, [\"x\", \"y\", \"angle\", \"color\", \"scale\"]))\n    }), 128)),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.stageState.minoList, (blockProps) => {\n      return (_openBlock(), _createBlock(_component_Block, {\n        key: blockProps.id,\n        class: \"BlockElement\",\n        x: blockProps.position.x,\n        y: blockProps.position.y,\n        angle: blockProps.angle,\n        color: blockProps.color,\n        scale: blockProps.scale\n      }, null, 8, [\"x\", \"y\", \"angle\", \"color\", \"scale\"]))\n    }), 128)),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.stageState.holdMino, (block) => {\n      return (_openBlock(), _createBlock(_component_Block, {\n        key: block.id,\n        class: \"BlockElement\",\n        x: block.position.x,\n        y: block.position.y,\n        angle: block.angle,\n        color: block.color,\n        scale: block.scale\n      }, null, 8, [\"x\", \"y\", \"angle\", \"color\", \"scale\"]))\n    }), 128)),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.stageState.stock, (block) => {\n      return (_openBlock(), _createBlock(_component_Block, {\n        key: block.id,\n        class: \"BlockElement\",\n        x: block.position.x,\n        y: block.position.y,\n        angle: block.angle,\n        color: block.color,\n        scale: block.scale\n      }, null, 8, [\"x\", \"y\", \"angle\", \"color\", \"scale\"]))\n    }), 128))\n  ]))\n}","import { onMounted, reactive, onUnmounted } from \"vue\";\n\ntype KeyEventHandler = (ev: KeyboardEvent) => void;\n\nexport const useKeyDown = (\n  handler: KeyEventHandler,\n  targetDom?: HTMLElement\n) => {\n  const onKeyDown = (ev: KeyboardEvent): void => {\n    handler?.(ev);\n  };\n\n  onMounted(() => {\n    const target = targetDom ?? document.body;\n    target.addEventListener(\"keydown\", onKeyDown);\n  });\n  onUnmounted(() => {\n    const target = targetDom ?? document.body;\n    target.removeEventListener(\"keydown\", onKeyDown);\n  });\n\n  return {};\n};\n","import axios from \"axios\";\nimport Score from \"../../domain/Score\";\nexport default class ScoreTransfer {\n  public async sendScore(name: string, score: number) {\n    const data = {\n      name: name,\n      score: score,\n    };\n    const response = await axios.post(\n      \"https://tetris-vue-db.herokuapp.com/score/register\",\n      data\n    );\n    return response.data;\n  }\n  public async getRanking(): Promise<Score[]> {\n    const response = await axios\n      .get(\"https://tetris-vue-db.herokuapp.com/score/ranking\")\n      .catch((error) => {\n        return error.response;\n      });\n    return response.data;\n  }\n\n  public async healthCheck(): Promise<boolean> {\n    const response = await axios\n      .get(\"https://tetris-vue-db.herokuapp.com/score/\")\n      .catch((error) => {\n        return error.response;\n      });\n    return true;\n  }\n}\n","\nimport { defineComponent, onMounted, reactive, ref } from \"vue\";\nimport { Block } from \"./Block\";\nimport { Point } from \"../core/Point\";\nimport { useAnimationFrame } from \"../core/useAnimationFrame\";\nimport { MinoModel } from \"../core/MinoModel\";\nimport Constants from \"../core/Constants\";\nimport { useKeyDown } from \"../core/useKeyEvent\";\nimport ScoreTransfer from \"../infrastructure/transfer/ScoreTransfer\";\n\n/**\n * ミノレイヤーの状態を管理する型\n */\ntype StageState = {\n  minoList: MinoModel[];\n  map: number[][];\n  t: number;\n  healthCheckTime: number;\n  name: string[];\n  holdMino: MinoModel[];\n  stock: MinoModel[];\n  ghost: MinoModel[];\n  totalScore: number;\n  ren: number;\n  deleteLineNum: number;\n  level: number;\n};\n\nexport default defineComponent({\n  name: \"MinoLayer\",\n  components: { Block },\n  props: {\n    keyInput: { type: String, default: \"\" },\n  },\n  setup(props, ctx) {\n    // state: レイヤーの状態\n    // const { keyInput } = toRefs(props);\n    const scoreTransfer = new ScoreTransfer();\n    let keyInput = ref(\"\");\n    const stageState = reactive<StageState>({\n      minoList: [],\n      map: [\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n      ],\n      t: 0,\n      healthCheckTime: 0,\n      name: JSON.parse(JSON.stringify(Constants.NAMES)),\n      holdMino: [],\n      stock: [],\n      ghost: [],\n      totalScore: 0,\n      ren: 0,\n      deleteLineNum: 0,\n      level: 1,\n    });\n    let forceRefresh = false;\n    let canHold = true;\n    let baseX = ref(\n      Math.floor(0.5 * window.innerWidth) - 5 * Constants.BLOCK_SIZE\n    );\n    let baseY = 2 * Constants.BLOCK_SIZE;\n    const record = () => {\n      stageState.map = JSON.parse(\n        JSON.stringify(new Array(22).fill(new Array(10).fill(0)))\n      );\n      stageState.minoList.map((mino) => {\n        stageState.map[(mino.position.y - baseY) / Constants.BLOCK_SIZE + 2][\n          (mino.position.x - baseX.value) / Constants.BLOCK_SIZE\n        ] = 1;\n      });\n    };\n    const refill_mino_name = () => {\n      stageState.name.push(\"T\");\n      stageState.name.push(\"I\");\n      stageState.name.push(\"O\");\n      stageState.name.push(\"L\");\n      stageState.name.push(\"J\");\n      stageState.name.push(\"S\");\n      stageState.name.push(\"Z\");\n    };\n    const minoNamePopper = () => {\n      let t: number = Math.floor(Math.random() * stageState.name.length);\n      if (stageState.name.length === 0) {\n        refill_mino_name();\n      }\n      const res = stageState.name[t];\n      stageState.name.splice(t, 1);\n      return res;\n    };\n    const drawMino = () => {\n      let x = baseX.value + 14 * Constants.BLOCK_SIZE;\n      let y = 20 * Constants.BLOCK_SIZE;\n      const name = minoNamePopper();\n      const color = Constants.COLORS[name];\n      const shape = JSON.parse(JSON.stringify(Constants.SHAPE[name]));\n      for (let i = 0; i < shape.length; i++) {\n        stageState.stock.push(\n          new MinoModel(\n            x + shape[i].x * Constants.BLOCK_SIZE,\n            y + shape[i].y * Constants.BLOCK_SIZE,\n            name,\n            color,\n            shape\n          )\n        );\n      }\n    };\n    const hold = () => {\n      const x = baseX.value - 5 * Constants.BLOCK_SIZE;\n      const y = baseY + 3 * Constants.BLOCK_SIZE;\n      for (let i = 0; i < 4; i++) {\n        let length = stageState.minoList.length;\n        const temp = stageState.minoList[length - 1];\n        const name = JSON.parse(JSON.stringify(temp.name));\n        const color = Constants.COLORS[name];\n        const shape = JSON.parse(JSON.stringify(Constants.SHAPE[name]));\n        stageState.holdMino.push(\n          new MinoModel(\n            x + shape[i].x * Constants.BLOCK_SIZE,\n            y + shape[i].y * Constants.BLOCK_SIZE,\n            name,\n            color,\n            shape\n          )\n        );\n        stageState.minoList.splice(length - 1, 1);\n      }\n      if (stageState.holdMino.length !== 4) {\n        const temp = stageState.holdMino[0];\n        let x = baseX.value + 4 * Constants.BLOCK_SIZE;\n        let y = 1 * Constants.BLOCK_SIZE;\n        const name = JSON.parse(JSON.stringify(temp.name));\n        const color = Constants.COLORS[name];\n        const shape = JSON.parse(JSON.stringify(Constants.SHAPE[name]));\n        for (let i = 0; i < 4; i++) {\n          stageState.minoList.push(\n            new MinoModel(\n              x + shape[i].x * Constants.BLOCK_SIZE,\n              y + shape[i].y * Constants.BLOCK_SIZE,\n              name,\n              color,\n              shape\n            )\n          );\n          stageState.holdMino.shift();\n        }\n      } else {\n        shiftStock();\n        alignStock();\n      }\n    };\n\n    const shiftStock = () => {\n      let x = baseX.value + 4 * Constants.BLOCK_SIZE;\n      let y = 1 * Constants.BLOCK_SIZE;\n      let name = stageState.stock[0].name;\n      const shape = JSON.parse(JSON.stringify(Constants.SHAPE[name]));\n      const color = Constants.COLORS[name];\n      drawMino();\n      for (let i = 0; i < shape.length; i++) {\n        stageState.minoList.push(\n          new MinoModel(\n            x + shape[i].x * Constants.BLOCK_SIZE,\n            y + shape[i].y * Constants.BLOCK_SIZE,\n            name,\n            color,\n            shape\n          )\n        );\n        stageState.stock.shift();\n      }\n    };\n\n    const alignStock = () => {\n      stageState.stock.map((mino, index) => {\n        mino.position = new Point(\n          mino.position.x,\n          (4 +\n            Constants.SHAPE[mino.name][index % 4].y +\n            Math.floor(index / 4) * 3) *\n            Constants.BLOCK_SIZE\n        );\n      });\n    };\n\n    const isBottom = (minoList: MinoModel[]) => {\n      let length = minoList.length;\n      if (length < 4) return false;\n      if (\n        minoList[minoList.length - 1].position.y ===\n          Constants.BLOCK_SIZE * 21 ||\n        minoList[minoList.length - 2].position.y ===\n          Constants.BLOCK_SIZE * 21 ||\n        minoList[minoList.length - 3].position.y ===\n          Constants.BLOCK_SIZE * 21 ||\n        minoList[minoList.length - 4].position.y === Constants.BLOCK_SIZE * 21\n      )\n        return true;\n      return false;\n    };\n\n    const isCollision = (minoList: MinoModel[]) => {\n      let length = minoList.length;\n      if (length < 4) return false;\n      for (let i = 0; i < 4; i++) {\n        if (\n          stageState.map[\n            (minoList[length - (i + 1)].position.y - baseY) /\n              Constants.BLOCK_SIZE +\n              3\n          ][\n            (minoList[length - (i + 1)].position.x - baseX.value) /\n              Constants.BLOCK_SIZE\n          ] == 1\n        )\n          return true;\n      }\n      return false;\n    };\n    useKeyDown(async (event: KeyboardEvent) => {\n      console.log(\"KEY:\", event.key);\n      keyInput.value = event.key;\n      if (keyInput.value === \"ArrowLeft\") {\n        slideLeft();\n        collisionToWall();\n        collisionToLeftMino();\n        setGhost();\n      }\n      if (keyInput.value === \"ArrowRight\") {\n        slideRight();\n        collisionToWall();\n        collisionToRightMino();\n        setGhost();\n      }\n      if (keyInput.value === \"ArrowDown\") {\n        if (\n          !isBottom(stageState.minoList) &&\n          !isCollision(stageState.minoList)\n        ) {\n          drop(stageState.minoList);\n          stageState.t = 1;\n          stageState.totalScore += 5;\n          ctx.emit(\"score\", stageState.totalScore);\n        }\n      }\n      if (keyInput.value === \"ArrowUp\") {\n        while (\n          !isBottom(stageState.minoList) &&\n          !isCollision(stageState.minoList)\n        ) {\n          drop(stageState.minoList);\n          stageState.totalScore += 5;\n        }\n        ctx.emit(\"score\", stageState.totalScore);\n        forceRefresh = true;\n      }\n      if (keyInput.value === \"x\") {\n        await superRotateRight();\n        setGhost();\n      }\n      if (keyInput.value === \"z\") {\n        await superRotateLeft();\n        setGhost();\n      }\n      if (keyInput.value === \"a\") {\n        if (canHold) {\n          hold();\n          canHold = false;\n          forceRefresh = true;\n        }\n      }\n    });\n\n    const collisionToWall = async () => {\n      let counter = 0;\n      let length = stageState.minoList.length;\n      if (\n        stageState.minoList[length - 1].position.x >\n          baseX.value + Constants.BLOCK_SIZE * 9 ||\n        stageState.minoList[length - 2].position.x >\n          baseX.value + Constants.BLOCK_SIZE * 9 ||\n        stageState.minoList[length - 3].position.x >\n          baseX.value + Constants.BLOCK_SIZE * 9 ||\n        stageState.minoList[length - 4].position.x >\n          baseX.value + Constants.BLOCK_SIZE * 9\n      ) {\n        slideLeft();\n        counter++;\n        collisionToWall();\n      }\n      if (\n        stageState.minoList[length - 1].position.x < baseX.value ||\n        stageState.minoList[length - 2].position.x < baseX.value ||\n        stageState.minoList[length - 3].position.x < baseX.value ||\n        stageState.minoList[length - 4].position.x < baseX.value\n      ) {\n        slideRight();\n        counter++;\n        collisionToWall();\n      }\n      return counter;\n    };\n\n    const collisionToLeftMino = async () => {\n      let counter = 0;\n      const currentPos: Point[] = [\n        stageState.minoList[stageState.minoList.length - 4].position,\n        stageState.minoList[stageState.minoList.length - 3].position,\n        stageState.minoList[stageState.minoList.length - 2].position,\n        stageState.minoList[stageState.minoList.length - 1].position,\n      ];\n      if (\n        stageState.map[(currentPos[0].y - baseY) / Constants.BLOCK_SIZE + 2][\n          (currentPos[0].x - baseX.value) / Constants.BLOCK_SIZE\n        ] == 1 ||\n        stageState.map[(currentPos[1].y - baseY) / Constants.BLOCK_SIZE + 2][\n          (currentPos[1].x - baseX.value) / Constants.BLOCK_SIZE\n        ] == 1 ||\n        stageState.map[(currentPos[2].y - baseY) / Constants.BLOCK_SIZE + 2][\n          (currentPos[2].x - baseX.value) / Constants.BLOCK_SIZE\n        ] == 1 ||\n        stageState.map[(currentPos[3].y - baseY) / Constants.BLOCK_SIZE + 2][\n          (currentPos[3].x - baseX.value) / Constants.BLOCK_SIZE\n        ] == 1\n      ) {\n        slideRight();\n        counter++;\n        counter += await collisionToLeftMino();\n      }\n      return counter;\n    };\n    const collisionToRightMino = async () => {\n      let counter = 0;\n      const currentPos: Point[] = [\n        stageState.minoList[stageState.minoList.length - 4].position,\n        stageState.minoList[stageState.minoList.length - 3].position,\n        stageState.minoList[stageState.minoList.length - 2].position,\n        stageState.minoList[stageState.minoList.length - 1].position,\n      ];\n      if (\n        stageState.map[(currentPos[0].y - baseY) / Constants.BLOCK_SIZE + 2][\n          (currentPos[0].x - baseX.value) / Constants.BLOCK_SIZE\n        ] === 1 ||\n        stageState.map[(currentPos[1].y - baseY) / Constants.BLOCK_SIZE + 2][\n          (currentPos[1].x - baseX.value) / Constants.BLOCK_SIZE\n        ] === 1 ||\n        stageState.map[(currentPos[2].y - baseY) / Constants.BLOCK_SIZE + 2][\n          (currentPos[2].x - baseX.value) / Constants.BLOCK_SIZE\n        ] === 1 ||\n        stageState.map[(currentPos[3].y - baseY) / Constants.BLOCK_SIZE + 2][\n          (currentPos[3].x - baseX.value) / Constants.BLOCK_SIZE\n        ] === 1\n      ) {\n        slideLeft();\n        counter++;\n        counter += await collisionToRightMino();\n      }\n      return counter;\n    };\n\n    const slideLeft = () => {\n      let length = stageState.minoList.length;\n      for (let i = 0; i < 4; i++)\n        stageState.minoList[length - (i + 1)].slideLeft();\n    };\n\n    const slideRight = () => {\n      let length = stageState.minoList.length;\n      for (let i = 0; i < 4; i++)\n        stageState.minoList[length - (i + 1)].slideRight();\n    };\n\n    const drop = (minoList: MinoModel[]) => {\n      let length = minoList.length;\n      if (length != 0) {\n        for (let i = 0; i < 4; i++) minoList[length - (i + 1)].drop();\n      }\n    };\n\n    const rotateRight = () => {\n      let length = stageState.minoList.length;\n      if (stageState.minoList[length - 4].name != \"O\") {\n        for (let i = 0; i < 4; i++) {\n          stageState.minoList[length - (4 - i)].position = new Point(\n            stageState.minoList[length - 4].position.x -\n              stageState.minoList[length - (4 - i)].shape[i].y *\n                Constants.BLOCK_SIZE,\n            stageState.minoList[length - 4].position.y +\n              stageState.minoList[length - (4 - i)].shape[i].x *\n                Constants.BLOCK_SIZE\n          );\n          stageState.minoList[length - (4 - i)].shape[i] = new Point(\n            -1 * stageState.minoList[length - (4 - i)].shape[i].y,\n            stageState.minoList[length - (4 - i)].shape[i].x\n          );\n        }\n      }\n    };\n    const rotateLeft = () => {\n      let length = stageState.minoList.length;\n      if (stageState.minoList[length - 4].name != \"O\") {\n        for (let i = 1; i < 4; i++) {\n          stageState.minoList[length - (4 - i)].position = new Point(\n            stageState.minoList[length - 4].position.x +\n              stageState.minoList[length - (4 - i)].shape[i].y *\n                Constants.BLOCK_SIZE,\n            stageState.minoList[length - 4].position.y -\n              stageState.minoList[length - (4 - i)].shape[i].x *\n                Constants.BLOCK_SIZE\n          );\n          stageState.minoList[length - (4 - i)].shape[i] = new Point(\n            stageState.minoList[length - (4 - i)].shape[i].y,\n            -1 * stageState.minoList[length - (4 - i)].shape[i].x\n          );\n        }\n      }\n    };\n\n    const resetPosition = (lastPos: Point[], lastShape: Point[]) => {\n      let length = stageState.minoList.length;\n      for (let i = 0; i < 4; i++) {\n        stageState.minoList[length - (4 - i)].position = lastPos[i];\n        stageState.minoList[length - (4 - i)].shape[i] = lastShape[i];\n      }\n    };\n\n    const isI = (name: string) => {\n      return name === \"I\" ? true : false;\n    };\n\n    const resetRotate = (\n      counterW: number,\n      counterM: number,\n      lastPos: Point[],\n      lastShape: Point[]\n    ) => {\n      let length = stageState.minoList.length;\n      if (\n        (isI(stageState.minoList[length - 4].name)\n          ? counterM > 2\n          : counterM > 1) ||\n        stageState.minoList[length - 1].position.x < baseX.value ||\n        stageState.minoList[length - 2].position.x < baseX.value ||\n        stageState.minoList[length - 3].position.x < baseX.value ||\n        stageState.minoList[length - 4].position.x < baseX.value ||\n        stageState.minoList[length - 1].position.x >\n          baseX.value + Constants.BLOCK_SIZE * 9 ||\n        stageState.minoList[length - 2].position.x >\n          baseX.value + Constants.BLOCK_SIZE * 9 ||\n        stageState.minoList[length - 3].position.x >\n          baseX.value + Constants.BLOCK_SIZE * 9 ||\n        stageState.minoList[length - 4].position.x >\n          baseX.value + Constants.BLOCK_SIZE * 9\n      ) {\n        resetPosition(lastPos, lastShape);\n        return true;\n      }\n      return false;\n    };\n\n    const superRotateRight = async () => {\n      const length = stageState.minoList.length;\n      let lastPos = [\n        stageState.minoList[length - 4].position,\n        stageState.minoList[length - 3].position,\n        stageState.minoList[length - 2].position,\n        stageState.minoList[length - 1].position,\n      ];\n      let lastShape: Point[] = [\n        stageState.minoList[length - 4].shape[0],\n        stageState.minoList[length - 3].shape[1],\n        stageState.minoList[length - 2].shape[2],\n        stageState.minoList[length - 1].shape[3],\n      ];\n      rotateRight();\n      if (isBottom(stageState.minoList)) {\n        resetPosition(lastPos, lastShape);\n        return;\n      }\n      const counterW = await collisionToWall();\n      let counterL = await collisionToLeftMino();\n      if (resetRotate(counterW, counterL, lastPos, lastShape)) rotateRight();\n      const counterR = await collisionToRightMino();\n      resetRotate(counterW, counterR, lastPos, lastShape);\n    };\n\n    const superRotateLeft = async () => {\n      const length = stageState.minoList.length;\n      let lastPos = [\n        stageState.minoList[length - 4].position,\n        stageState.minoList[length - 3].position,\n        stageState.minoList[length - 2].position,\n        stageState.minoList[length - 1].position,\n      ];\n      let lastShape: Point[] = [\n        stageState.minoList[length - 4].shape[0],\n        stageState.minoList[length - 3].shape[1],\n        stageState.minoList[length - 2].shape[2],\n        stageState.minoList[length - 1].shape[3],\n      ];\n      rotateLeft();\n      if (isBottom(stageState.minoList)) {\n        resetPosition(lastPos, lastShape);\n        return;\n      }\n      const counterW = await collisionToWall();\n      let counterR = await collisionToRightMino();\n      if (resetRotate(counterW, counterR, lastPos, lastShape)) rotateLeft();\n      const counterL = await collisionToLeftMino();\n      resetRotate(counterW, counterL, lastPos, lastShape);\n    };\n\n    const deleteLine = () => {\n      let score_counter = 0;\n      let isFillLine = false;\n      for (let i = 2; i < stageState.map.length; i++) {\n        let sum = 0;\n        for (let j = 0; j < stageState.map[i].length; j++)\n          sum += stageState.map[i][j];\n        if (sum === 10) {\n          stageState.deleteLineNum++;\n          score_counter++;\n          isFillLine = true;\n          for (let k = stageState.minoList.length - 1; k >= 0; k--) {\n            let y = stageState.minoList[k].position.y;\n            let deleteLine = baseY + (i - 2) * Constants.BLOCK_SIZE;\n            if (y === deleteLine) {\n              stageState.minoList.splice(k, 1);\n            } else if (y < deleteLine) {\n              stageState.minoList[k].drop();\n            }\n          }\n          record();\n          if (\n            stageState.deleteLineNum % 10 === 0 &&\n            Math.ceil(stageState.deleteLineNum / 10) < 30\n          )\n            stageState.level = Math.ceil(stageState.deleteLineNum / 10) + 1;\n        }\n      }\n      if (!isFillLine) stageState.ren = 0;\n      else stageState.ren++;\n      stageState.totalScore += score_counter * score_counter * 100;\n      stageState.totalScore +=\n        score_counter * score_counter * stageState.ren * 20;\n      score_counter = 0;\n    };\n\n    const setGhost = () => {\n      const length = stageState.minoList.length;\n      stageState.ghost = JSON.parse(JSON.stringify([]));\n      for (let i = 0; i < 4; i++) {\n        let x = stageState.minoList[length - (i + 1)].position.x;\n        let y = stageState.minoList[length - (i + 1)].position.y;\n        const name = stageState.minoList[length - (i + 1)].name;\n        const shape = JSON.parse(\n          JSON.stringify(stageState.minoList[length - (i + 1)].shape)\n        );\n        const color = Constants.COLORS[name];\n        const opacity = \"0.3\";\n        stageState.ghost.push(new MinoModel(x, y, name, color, shape, opacity));\n      }\n      while (!isBottom(stageState.ghost) && !isCollision(stageState.ghost))\n        drop(stageState.ghost);\n    };\n\n    ///////////////////////////初期ミノセット\n    for (let i = 0; i < 4; i++) drawMino();\n    shiftStock();\n    alignStock();\n    setGhost();\n    //////////////////////////////////////\n    // 描画フレームごとに呼ばれる処理\n    useAnimationFrame(() => {\n      if (stageState.map[1][4] === 1) {\n        return false;\n      }\n      // if (stageState.healthCheckTime % 2000 === 0) {\n      //   scoreTransfer.healthCheck();\n      //   stageState.healthCheckTime = 0;\n      // }\n      if (\n        stageState.t % (52 - Math.floor(1.7 * stageState.level)) === 0 ||\n        forceRefresh\n      ) {\n        if (isBottom(stageState.minoList) || isCollision(stageState.minoList)) {\n          record();\n          deleteLine();\n          console.log(\"REN\", stageState.ren);\n          console.log(\"SCORE\", stageState.totalScore);\n          mapEmit();\n          shiftStock();\n          alignStock();\n          setGhost();\n          canHold = true;\n          ctx.emit(\"score\", stageState.totalScore);\n        } else {\n          drop(stageState.minoList);\n          setGhost();\n        }\n        if (forceRefresh) {\n          forceRefresh = false;\n          stageState.t = 0;\n        }\n      }\n      stageState.t++;\n      stageState.healthCheckTime++;\n      return true;\n    });\n\n    const mapEmit = () => {\n      ctx.emit(\"map\", stageState.map);\n      ctx.emit(\"level\", stageState.level);\n    };\n\n    const adoptMinoPosToWindow = () => {\n      const newBaseX =\n        Math.floor(0.5 * window.innerWidth) - 5 * Constants.BLOCK_SIZE;\n      for (let i = 0; i < stageState.minoList.length; i++) {\n        stageState.minoList[i].resize(newBaseX - baseX.value);\n      }\n      for (let i = 0; i < stageState.holdMino.length; i++) {\n        stageState.holdMino[i].resize(newBaseX - baseX.value);\n      }\n      for (let i = 0; i < stageState.ghost.length; i++) {\n        stageState.ghost[i].resize(newBaseX - baseX.value);\n      }\n      for (let i = 0; i < stageState.stock.length; i++) {\n        stageState.stock[i].resize(newBaseX - baseX.value);\n      }\n      baseX.value = newBaseX;\n    };\n\n    onMounted(() => {\n      window.addEventListener(\"resize\", adoptMinoPosToWindow);\n    });\n\n    return {\n      baseX,\n      drawMino,\n      hold,\n      stageState,\n      mapEmit,\n    };\n  },\n});\n","import { render } from \"./Mino.vue?vue&type=template&id=2a17cd6c&scoped=true&ts=true\"\nimport script from \"./Mino.vue?vue&type=script&lang=ts\"\nexport * from \"./Mino.vue?vue&type=script&lang=ts\"\n\nimport \"./Mino.vue?vue&type=style&index=0&id=2a17cd6c&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\S142575\\\\Documents\\\\self-study\\\\vue3-tetris\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2a17cd6c\"]])\n\nexport default __exports__","\nimport { defineComponent, onMounted, reactive, ref } from \"vue\";\nimport { Block } from \"./Block\";\nimport { useAnimationFrame } from \"../core/useAnimationFrame\";\nimport { MinoModel } from \"../core/MinoModel\";\nimport Constants from \"../core/Constants\";\nimport MinoLayer from \"./Mino.vue\";\n\n/**\n * レイヤーの状態を管理する型\n */\ntype StageState = {\n  map: number[][];\n  wallList: MinoModel[];\n  t: number;\n};\n\nexport default defineComponent({\n  name: \"PlayBoardLayer\",\n  components: { Block, MinoLayer },\n  props: {},\n  setup(props, ctx) {\n    // state: レイヤーの状態\n    const stageState = reactive<StageState>({\n      map: [\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n      ],\n      wallList: [],\n      t: 0,\n    });\n    const getMap = (map: number[][]) => {\n      stageState.map = map;\n    };\n    let baseX1 = ref(\n      Math.floor(0.5 * window.innerWidth) - 6 * Constants.BLOCK_SIZE\n    );\n    let baseX2 = ref(\n      Math.floor(0.5 * window.innerWidth) + 5 * Constants.BLOCK_SIZE\n    );\n    const buildWall = () => {\n      let y1 = 2 * Constants.BLOCK_SIZE;\n      let y2 = 22 * Constants.BLOCK_SIZE;\n      let j = 0;\n      for (let i = 0; i < 21; i++) {\n        stageState.wallList.push(\n          new MinoModel(\n            baseX1.value,\n            y1 + i * Constants.BLOCK_SIZE,\n            \"wall\",\n            \"128,128,128\",\n            []\n          )\n        );\n        stageState.wallList.push(\n          new MinoModel(\n            baseX2.value,\n            y1 + i * Constants.BLOCK_SIZE,\n            \"wall\",\n            \"128,128,128\",\n            []\n          )\n        );\n        if (j < 10) {\n          stageState.wallList.push(\n            new MinoModel(\n              baseX1.value + (j + 1) * Constants.BLOCK_SIZE,\n              y2,\n              \"wall\",\n              \"128, 128, 128\",\n              []\n            )\n          );\n          j++;\n        }\n      }\n    };\n\n    let totalScore = ref(0);\n\n    const updateScore = (score: number) => {\n      totalScore.value = score;\n    };\n\n    let level = ref(1);\n\n    const setLevel = (lv: number) => {\n      level.value = lv;\n    };\n\n    // 描画フレームごとに呼ばれる処理。\n    buildWall();\n    console.log(\"Game Start\");\n    useAnimationFrame(() => {\n      if (stageState.map[1][4] === 1) {\n        console.log(\"Game Over\");\n        ctx.emit(\"ending\", true);\n        ctx.emit(\"score\", totalScore.value);\n        return false;\n      }\n      // trueを返すとunmountまでの間繰り返し呼ばれる\n      return true;\n    });\n\n    const adoptMinoPosToWindow = () => {\n      const newBaseX1 =\n        Math.floor(0.5 * window.innerWidth) - 6 * Constants.BLOCK_SIZE;\n      for (let i = 0; i < stageState.wallList.length; i++) {\n        stageState.wallList[i].resize(newBaseX1 - baseX1.value);\n      }\n      baseX1.value = newBaseX1;\n    };\n\n    onMounted(() => {\n      window.addEventListener(\"resize\", adoptMinoPosToWindow);\n    });\n\n    return {\n      baseX1,\n      baseX2,\n      stageState,\n      getMap,\n      totalScore,\n      updateScore,\n      level,\n      setLevel,\n    };\n  },\n});\n","import { render } from \"./PlayBoardLayer.vue?vue&type=template&id=3abde733&scoped=true&ts=true\"\nimport script from \"./PlayBoardLayer.vue?vue&type=script&lang=ts\"\nexport * from \"./PlayBoardLayer.vue?vue&type=script&lang=ts\"\n\nimport \"./PlayBoardLayer.vue?vue&type=style&index=0&id=3abde733&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\S142575\\\\Documents\\\\self-study\\\\vue3-tetris\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3abde733\"]])\n\nexport default __exports__","\nimport { defineComponent, ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport PlayBoardLayer from \"../components/PlayBoardLayer.vue\";\nimport ScoreTransfer from \"../infrastructure/transfer/ScoreTransfer\";\n\nexport default defineComponent({\n  name: \"Stage\",\n  components: { PlayBoardLayer },\n  props: {\n    maxFish: { type: Number, default: 50 },\n  },\n  setup(_, ctx) {\n    let flag = ref(false);\n    let score = ref(0);\n    let userName = ref(\"\");\n    const router = useRouter();\n    const scoreTransfer = new ScoreTransfer();\n    const ending = (end: boolean) => {\n      if (end) flag.value = true;\n    };\n    const resultScore = (result: number) => {\n      score.value = result;\n    };\n    const sendScore = async (name: string, value: number) => {\n      return await scoreTransfer.sendScore(name, value);\n    };\n    const moveToRanking = () => {\n      sendScore(userName.value, score.value);\n      return router.replace({ name: \"Ranking\" });\n    };\n    return {\n      flag,\n      score,\n      userName,\n      ending,\n      resultScore,\n      moveToRanking,\n    };\n  },\n});\n","import { render } from \"./Stage.vue?vue&type=template&id=16044380&scoped=true&ts=true\"\nimport script from \"./Stage.vue?vue&type=script&lang=ts\"\nexport * from \"./Stage.vue?vue&type=script&lang=ts\"\n\nimport \"./Stage.vue?vue&type=style&index=0&id=16044380&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\S142575\\\\Documents\\\\self-study\\\\vue3-tetris\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-16044380\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6322b73a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Score Ranking TOP 10\", -1))\nconst _hoisted_2 = { id: \"ranking\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _hoisted_1,\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"table\", null, [\n        _createElementVNode(\"thead\", null, [\n          _createElementVNode(\"tr\", null, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.headers, (header, index) => {\n              return (_openBlock(), _createElementBlock(\"th\", { key: index }, _toDisplayString(header), 1))\n            }), 128))\n          ])\n        ]),\n        _createElementVNode(\"tbody\", null, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.ranking, (value, index) => {\n            return (_openBlock(), _createElementBlock(\"tr\", {\n              key: value.id\n            }, [\n              _createElementVNode(\"th\", null, _toDisplayString(index + 1), 1),\n              _createElementVNode(\"td\", null, _toDisplayString(value.name), 1),\n              _createElementVNode(\"td\", null, _toDisplayString(value.score), 1)\n            ]))\n          }), 128))\n        ])\n      ]),\n      _createElementVNode(\"button\", {\n        id: \"return\",\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.moveToTop && _ctx.moveToTop(...args)))\n      }, \"Topへ戻る\")\n    ])\n  ], 64))\n}","\nimport { defineComponent, Ref, ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport Score from \"../domain/Score\";\nimport ScoreTransfer from \"../infrastructure/transfer/ScoreTransfer\";\nexport default defineComponent({\n  name: \"Ranking\",\n  setup(_, ctx) {\n    const router = useRouter();\n    const scoreTransfer = new ScoreTransfer();\n    let ranking: Ref<Score[]> = ref([]);\n    const headers = [\"No.\", \"名前\", \"スコア\"];\n\n    const getRanking = async () => {\n      ranking.value = await scoreTransfer.getRanking();\n    };\n    const moveToTop = () => {\n      return router.replace({ name: \"Top\" });\n    };\n\n    getRanking();\n    return {\n      ranking,\n      headers,\n      moveToTop,\n    };\n  },\n});\n","import { render } from \"./Ranking.vue?vue&type=template&id=6322b73a&scoped=true&ts=true\"\nimport script from \"./Ranking.vue?vue&type=script&lang=ts\"\nexport * from \"./Ranking.vue?vue&type=script&lang=ts\"\n\nimport \"./Ranking.vue?vue&type=style&index=0&id=6322b73a&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\S142575\\\\Documents\\\\self-study\\\\vue3-tetris\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6322b73a\"]])\n\nexport default __exports__","import { createRouter, createWebHistory, RouteRecordRaw } from \"vue-router\";\nimport Top from \"../views/TopPage.vue\";\nimport Stage from \"../views/Stage.vue\";\nimport Ranking from \"../views/Ranking.vue\";\n\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: \"/\",\n    name: \"Top\",\n    component: Top,\n  },\n  {\n    path: \"/tetris\",\n    name: \"Tetris\",\n    component: Stage,\n  },\n  {\n    path: \"/ranking\",\n    name: \"Ranking\",\n    component: Ranking,\n  },\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n});\n\nexport default router;\n","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\n\ncreateApp(App).use(router).mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvue3_tetris\"] = self[\"webpackChunkvue3_tetris\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(4424); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_hoisted_1","id","render","_ctx","_cache","$props","$setup","$data","$options","_component_router_view","_resolveComponent","_openBlock","_createElementBlock","_createVNode","defineComponent","name","components","data","methods","__exports__","_withScopeId","n","_pushScopeId","_popScopeId","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","onClick","args","moveToTetris","moveToRanking","setup","_","ctx","router","useRouter","replace","_createStaticVNode","key","class","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_component_PlayBoardLayer","_Fragment","onEnding","ending","onScore","resultScore","flag","_toDisplayString","score","_createTextVNode","_withDirectives","$event","userName","_vModelText","_createCommentVNode","_component_Block","_component_MinoLayer","_renderList","stageState","wallList","blockProps","_createBlock","x","position","y","angle","color","onMap","getMap","updateScore","onLevel","setLevel","level","totalScore","Block","props","scale","style","h","useAnimationFrame","onFire","isTerminated","onMounted","tick","requestAnimationFrame","shouldContinue","onBeforeUnmount","Point","constructor","a","this","length","Math","sqrt","rad2angle","r","PI","atan2","add","p","sub","times","unit","unitLength","len","limit","maxLength","rotate","deg","angle2rad","rad","l","cos","sin","Constants","T","I","L","J","O","S","Z","DEFAULT_FORCE","instanseCount","randomName","floor","random","MinoModel","shape","opacity","update","vec","drop","slideLeft","slideRight","slideUp","setForce","value","force","resize","difference","ghost","block","minoList","holdMino","stock","useKeyDown","handler","targetDom","onKeyDown","ev","target","document","body","addEventListener","onUnmounted","removeEventListener","ScoreTransfer","response","axios","catch","error","keyInput","type","String","default","ref","reactive","map","t","healthCheckTime","JSON","parse","stringify","ren","deleteLineNum","forceRefresh","canHold","baseX","window","innerWidth","baseY","record","Array","fill","mino","refill_mino_name","push","minoNamePopper","res","splice","drawMino","i","hold","temp","shift","shiftStock","alignStock","index","isBottom","isCollision","async","console","log","event","collisionToWall","collisionToLeftMino","setGhost","collisionToRightMino","emit","superRotateRight","superRotateLeft","counter","currentPos","rotateRight","rotateLeft","resetPosition","lastPos","lastShape","isI","resetRotate","counterW","counterM","counterL","counterR","deleteLine","score_counter","isFillLine","sum","j","k","ceil","mapEmit","adoptMinoPosToWindow","newBaseX","MinoLayer","baseX1","baseX2","buildWall","y1","y2","lv","newBaseX1","PlayBoardLayer","maxFish","Number","scoreTransfer","end","result","sendScore","headers","header","ranking","moveToTop","getRanking","routes","path","component","Top","Stage","Ranking","createRouter","history","createWebHistory","process","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","Object","keys","every","getter","__esModule","d","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}